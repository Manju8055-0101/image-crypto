import{j as e,m as p}from"./animation-BfXDZtOL.js";import{r as n}from"./vendor-1t_B_YEV.js";import{C as v}from"./Card-DuSNpccM.js";import{u as M,B as x}from"./index-Bhhr6mJ9.js";import{I as L}from"./Input-DQbkzJTY.js";import{e as z}from"./steganography-bxy_J-v2.js";import"./crypto-Dc9uGPCL.js";const V=()=>{const{currentAlgorithm:o,setAlgorithm:j,selectedImage:r,secretMessage:a,password:i,isProcessing:h,resultImage:c,setSelectedImage:l,setSecretMessage:f,setPassword:b,setIsProcessing:y,setResultImage:N,addToHistory:w,reset:k}=M(),[u,s]=n.useState(""),[C,d]=n.useState(!1),m=n.useCallback(t=>{if(!t)return;if(!t.type.startsWith("image/")){s("Please upload a valid image file");return}const g=new FileReader;g.onload=I=>{l({file:t,preview:I.target.result,name:t.name,size:t.size}),s("")},g.readAsDataURL(t)},[l]),E=n.useCallback(t=>{t.preventDefault(),t.stopPropagation(),d(!1),t.dataTransfer.files&&t.dataTransfer.files[0]&&m(t.dataTransfer.files[0])},[m]),D=async()=>{if(!r){s("Please select an image first");return}if(!a.trim()){s("Please enter a secret message");return}if(!i.trim()){s("Please enter a password");return}y(!0),s("");try{const t=await z(r.preview,a,i,o);N(t),w({type:"encrypt",algorithm:o,originalSize:r.size,timestamp:new Date().toISOString(),status:"success"})}catch(t){s(t.message||"Encryption failed. Please try again.")}finally{y(!1)}},P=()=>{if(!c)return;const t=document.createElement("a");t.href=c,t.download=`encrypted_${r.name}`,document.body.appendChild(t),t.click(),document.body.removeChild(t)},S=[{id:"lsb",name:"LSB",description:"Basic",capacity:"25%",security:"Basic"},{id:"pvd",name:"PVD",description:"Medium",capacity:"15-20%",security:"Medium"},{id:"dwt",name:"DWT",description:"High",capacity:"10-15%",security:"High"}];return e.jsx("div",{className:"min-h-screen py-12",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold gradient-text mb-4",children:"Encrypt Message"}),e.jsx("p",{className:"text-crypto-text-secondary max-w-2xl mx-auto",children:"Hide your secret message within an image using advanced steganography algorithms"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx(p.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:e.jsxs(v,{children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"1. Select Algorithm"}),e.jsx("div",{className:"grid grid-cols-3 gap-4 mb-6",children:S.map(t=>e.jsxs("button",{onClick:()=>j(t.id),className:`p-4 rounded-xl border transition-all duration-300 ${o===t.id?"border-crypto-accent bg-crypto-accent/10":"border-crypto-accent/20 hover:border-crypto-accent/40"}`,children:[e.jsx("div",{className:"text-lg font-semibold text-white",children:t.name}),e.jsx("div",{className:"text-xs text-crypto-text-secondary",children:t.description}),e.jsxs("div",{className:"text-xs text-crypto-accent mt-1",children:["Cap: ",t.capacity]})]},t.id))}),e.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"2. Upload Image"}),e.jsx("div",{className:`relative border-2 border-dashed rounded-xl p-8 text-center transition-all duration-300 ${C?"border-crypto-accent bg-crypto-accent/10":"border-crypto-accent/30 hover:border-crypto-accent/50"}`,onDragEnter:t=>{t.preventDefault(),t.stopPropagation(),d(!0)},onDragLeave:t=>{t.preventDefault(),t.stopPropagation(),d(!1)},onDragOver:t=>{t.preventDefault(),t.stopPropagation()},onDrop:E,children:r?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r.preview,alt:"Preview",className:"max-h-64 mx-auto rounded-lg"}),e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-white font-medium",children:r.name}),e.jsxs("p",{className:"text-crypto-text-secondary text-sm",children:[(r.size/1024).toFixed(2)," KB"]}),e.jsx("button",{onClick:()=>l(null),className:"text-crypto-error text-sm mt-2 hover:underline",children:"Remove"})]})]}):e.jsxs("div",{className:"py-8",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-crypto-accent mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("p",{className:"text-white mb-2",children:"Drag and drop an image here"}),e.jsx("p",{className:"text-crypto-text-secondary text-sm mb-4",children:"or"}),e.jsxs("label",{className:"cursor-pointer",children:[e.jsx("span",{className:"text-crypto-accent hover:underline",children:"Browse files"}),e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:t=>m(t.target.files[0])})]})]})}),e.jsx("h2",{className:"text-xl font-semibold text-white mb-6 mt-6",children:"3. Enter Secret Message"}),e.jsx("textarea",{value:a,onChange:t=>f(t.target.value),placeholder:"Enter your secret message here...",className:"w-full h-32 px-4 py-3 bg-crypto-bg-tertiary border border-crypto-accent/20 rounded-lg text-crypto-text-primary placeholder-crypto-text-secondary/50 focus:outline-none focus:border-crypto-accent focus:ring-2 focus:ring-crypto-accent/20 transition-all duration-300 resize-none"}),e.jsx("h2",{className:"text-xl font-semibold text-white mb-6 mt-6",children:"4. Set Password"}),e.jsx(L,{type:"password",value:i,onChange:t=>b(t.target.value),placeholder:"Enter encryption password"}),u&&e.jsx("div",{className:"mt-4 p-3 bg-crypto-error/10 border border-crypto-error/30 rounded-lg text-crypto-error text-sm",children:u}),e.jsxs("div",{className:"flex gap-4 mt-6",children:[e.jsx(x,{variant:"primary",size:"lg",className:"flex-1",onClick:D,loading:h,disabled:!r||!a||!i,children:h?"Encrypting...":"Encrypt Message"}),e.jsx(x,{variant:"ghost",size:"lg",onClick:k,children:"Reset"})]})]})}),e.jsx(p.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},children:e.jsxs(v,{className:"sticky top-24",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Result"}),c?e.jsxs("div",{children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx("img",{src:c,alt:"Encrypted",className:"w-full rounded-lg"}),e.jsx("div",{className:"absolute top-2 right-2 bg-crypto-success text-crypto-dark px-2 py-1 rounded text-xs font-medium",children:"Encrypted"})]}),e.jsx("div",{className:"flex gap-4",children:e.jsxs(x,{variant:"primary",className:"flex-1",onClick:P,children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download Image"]})}),e.jsx("p",{className:"text-crypto-text-secondary text-sm mt-4 text-center",children:"Your encrypted image is ready. Share it with your recipient!"})]}):e.jsxs("div",{className:"py-16 text-center",children:[e.jsx("svg",{className:"mx-auto h-16 w-16 text-crypto-accent/30 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),e.jsx("p",{className:"text-crypto-text-secondary",children:"Your encrypted image will appear here"})]})]})})]})]})})};export{V as default};
//# sourceMappingURL=Encrypt-DL1FOLv7.js.map
